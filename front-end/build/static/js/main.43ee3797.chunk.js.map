{"version":3,"sources":["components/Icon.js","components/Nav.js","Keyboard.js","unit.js","components/Controller.js","components/AiSample.js","components/AiDrive.js","components/AiTrain.js","components/Ai.js","components/Setting.js","components/Login.js","App.js","serviceWorker.js","index.js"],"names":["Icon","createFromIconfontCN","scriptUrl","Nav","props","mode","Item","to","process","CarOutlined","SettingOutlined","href","target","rel","type","YoutubeOutlined","GithubOutlined","WeiboOutlined","Keybord","handleKeyDown","event","controller","speed","direction","onControl","keyName","key","handleKeyUp","keyboardBind","window","document","addEventListener","ref","createRef","this","removeEventListener","Component","layout","labelCol","span","wrapperCol","tailLayout","offset","loadTruncatedMobileNet","a","tf","mobilenet","layer","getLayer","inputs","outputs","output","getImageUrl","canvas","smallCanvas","getElementById","createElement","id","width","height","img","fromPixels","smallImg","resizeNearestNeighbor","toPixels","toDataURL","imageUrlToImg","dataURL","Promise","resolve","Image","src","Ai","truncatedMobileNet","url","lable","data","oImg","expandDims","toFloat","div","sub","example","predict","dispose","y","toInt","xs","ys","oldX","concat","oldY","learnArgument","lossCallBack","console","log","Error","model","layers","flatten","inputShape","shape","slice","dense","units","hiddenUnits","activation","kernelInitializer","useBias","optimizer","adam","learnRate","compile","loss","batchSize","Math","floor","fit","epochs","callbacks","onBatchEnd","batch","logs","toFixed","embeddings","predictions","probability","predictedClass","as1D","argMax","label","name","save","sleep","time","setTimeout","vibrate","v","navigator","curentOrientation","aiAction","left","icon","ArrowLeftOutlined","action","right","ArrowRightOutlined","forward","ArrowUpOutlined","back","ArrowDownOutlined","stop","PauseOutlined","AiSample","clear","setState","sampleList","upload","file","onSuccess","reader","FileReader","onload","result","JSON","parse","state","readAsText","download","exportName","saveAs","Blob","stringify","changeCamera","canvasRef","unshift","index","splice","onFinish","cameraEnabled","className","Object","keys","map","onClick","add","disabled","customRequest","accept","showUploadList","ImportOutlined","ExportOutlined","length","size","grid","gutter","column","itemLayout","pagination","pageSize","dataSource","renderItem","title","actions","CloseOutlined","remove","style","alt","onLoad","AiDrive","doSometing","ai","onAi","isPredicting","actionKey","labelToKey","interval","test","drive","loadModel","load","message","success","downloadModel","find","value","onChange","loading","BugOutlined","StopOutlined","Option","Select","AiTrain","train","clean","addExample","undefined","smallCanvasRef","spinning","tip","initialValues","ReadOutlined","htmlType","menu","AiView","menuItem","learnForm","exampleList","path","selectedKeys","match","current","i","isSupportedOrientaion","e","alpha","beta","gamma","Controller","gamepadConnected","gamepad","gamepadEnabled","gamepadPress","detail","lightEnabled","changeLight","forwardPower","fixedController","gamepadAxis","gamePadsLoop","buttonsStatus","axesStatus","gamePadsTime","setInterval","gamepadList","getGamepads","webkitGetGamepads","gamePadIndex","axes","buttons","connected","forEach","status","dispatchEvent","CustomEvent","deviceorientation","directionReverse","isAiControlling","zeroOrientation","bateDegree","backwardPower","speedReverse","directionFix","fixContent","display","AimOutlined","checked","store","set","min","max","included","get","isShowButton","mobile","gamepadDisconnected","clearInterval","handleSetZeroOrientation","error","content","trigger","SlidersOutlined","onTouchStart","onTouchEnd","LeftOutlined","RightOutlined","UpOutlined","DownOutlined","placement","arrowPointAtCenter","checkedChildren","DragOutlined","unCheckedChildren","Setting","onDisconnect","wsConnected","onSubmit","serverSetting","form","rules","required","maxSpeed","tooltipVisible","Login","App","connect","wsAddress","setting","wsavc","location","protocol","disconnect","preventDefault","login","password","send","token","md5","enabled","cameraMode","enable","changeSetting","navigate","changeZeroSpeedRate","speedZeroRate","changeSpeed","speedRate","changeDirection","directionRate","appRef","playerBoxRef","speedMax","host","isFullscreen","videoSize","delay","changeVideoSize","debounce","unbounceVideoSize","pingTime","WSAvcPlayer","useWorker","workerFile","on","sendTime","Date","getTime","needPassword","fbl","payload","appendChild","AvcPlayer","m","body","fullscreenElement","Button","overlay","HomeOutlined","ApiOutlined","VideoCameraOutlined","defaultValue","step","tipFormatter","onAfterChange","marks","0","50","100","ExpandOutlined","BulbOutlined","requestFullscreen","FullscreenExitOutlined","FullscreenOutlined","exitFullscreen","color","opacity","transform","preventSleep","Boolean","hostname","ReactDOM","render","StrictMode","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.43ee3797.chunk.js","sourcesContent":["import { createFromIconfontCN } from '@ant-design/icons';\n\nconst Icon= createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1773709_52px07fzrwt.js',\n});\n\nexport default Icon  ","import React from \"react\";\nimport { Menu } from \"antd\";\nimport { Link } from \"@reach/router\";\nimport {\n  GithubOutlined,\n  YoutubeOutlined,\n  WeiboOutlined,\n  SettingOutlined,\n  CarOutlined\n} from \"@ant-design/icons\";\nimport Icon from './Icon'\n\nexport default function Nav(props) {\n  return (\n    <Menu mode=\"horizontal\" {...props}>\n      <Menu.Item> \n        <Link to={`${process.env.PUBLIC_URL}/ai/sample`}>\n        <CarOutlined /> AI\n        </Link>\n      </Menu.Item>\n      <Menu.Item>\n        <Link to={`${process.env.PUBLIC_URL}/setting`}>\n          <SettingOutlined /> 设置\n        </Link>\n      </Menu.Item>\n\n      <Menu.Item>\n        <a\n          href=\"https://space.bilibili.com/96740361\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Icon type=\"icon-bilibili-fill\" /> B站 EsonWong\n        </a>\n      </Menu.Item>\n      <Menu.Item>\n        <a\n          href=\"https://www.youtube.com/channel/UCyQR6LHhhhpTFfxZo7VZddA\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <YoutubeOutlined /> Youtube EsonWong\n        </a>\n      </Menu.Item>\n      <Menu.Item>\n        <a\n          href=\"https://github.com/itiwll/network-rc\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <GithubOutlined /> Github Network-rc\n        </a>\n      </Menu.Item>\n      <Menu.Item>\n        <a\n          href=\"https://weibo.com/u/5034944416\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <WeiboOutlined /> 微博 Eson_Wong\n        </a>\n      </Menu.Item>\n      {/* <Menu.Item>\n        <Link to=\"ai\">Ai</Link>\n      </Menu.Item> */}\n    </Menu>\n  );\n}\n","import React, { Component, createRef } from \"react\";\n\nexport default class Keybord extends Component {\n  constructor(props) {\n    super(props);\n    this.ref = createRef();\n  }\n\n  componentDidMount() {\n    this.keyboardBind();\n  }\n\n  componentWillUnmount() {\n    const { handleKeyDown, handleKeyUp } = this;\n    window.document.removeEventListener(\"keydown\", handleKeyDown, false);\n    window.document.removeEventListener(\"keyup\", handleKeyUp, false);\n  }\n\n  handleKeyDown = (event) => {\n    const {\n      props: {\n        controller: { speed, direction },\n        onControl,\n      },\n    } = this;\n    const keyName = event.key;\n    if (keyName === \"w\") {\n      speed(1);\n    }\n    if (keyName === \"s\") {\n      speed(-1);\n    }\n    if (keyName === \"a\") {\n      direction(1);\n    }\n    if (keyName === \"d\") {\n      direction(-1);\n    }\n    onControl && onControl();\n  };\n\n  handleKeyUp = (event) => {\n    const {\n      props: {\n        controller: { speed, direction },\n        onControl,\n      },\n    } = this;\n    const keyName = event.key;\n    if (keyName === \"w\") {\n      speed(0);\n    }\n    if (keyName === \"s\") {\n      speed(0);\n    }\n    if (keyName === \"a\") {\n      direction(0);\n    }\n    if (keyName === \"d\") {\n      direction(0);\n    }\n    onControl && onControl();\n  };\n\n  keyboardBind = () => {\n    const { handleKeyDown, handleKeyUp } = this;\n    window.document.addEventListener(\"keydown\", handleKeyDown, false);\n    window.document.addEventListener(\"keyup\", handleKeyUp, false);\n  };\n\n  render() {\n    return <div></div>;\n  }\n}\n","import * as tf from \"@tensorflow/tfjs\";\n\nexport const layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\nexport const tailLayout = {\n  wrapperCol: { offset: 6, span: 16 },\n};\n\nexport const marks = {\n  0: \"0%\",\n  25: \"25%\",\n  50: \"50%\",\n  75: \"75%\",\n  100: \"100%\",\n};\n\nexport async function loadTruncatedMobileNet() {\n  const mobilenet = await tf.loadLayersModel(\n    \"https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_1.0_224/model.json\"\n  );\n  // Return a model that outputs an internal activation.\n  const layer = mobilenet.getLayer(\"conv_pw_13_relu\");\n  return tf.model({ inputs: mobilenet.inputs, outputs: layer.output });\n}\n\nexport async function getImageUrl(canvas) {\n  let smallCanvas = document.getElementById(\"small-canvas\");\n  if (!smallCanvas) {\n    smallCanvas = document.createElement(\"canvas\");\n    smallCanvas.id = \"small-canvas\";\n    smallCanvas.width = 224;\n    smallCanvas.height = 224;\n  }\n  const img = tf.browser.fromPixels(canvas);\n  const smallImg = img.resizeNearestNeighbor([224, 224]);\n  await tf.browser.toPixels(smallImg, smallCanvas);\n  return smallCanvas.toDataURL();\n}\n\nexport async function imageUrlToImg(dataURL) {\n  return await new Promise((resolve) => {\n    const img = new Image();\n    img.addEventListener(\"load\", () => {\n      resolve(tf.browser.fromPixels(img));\n    });\n    img.src = dataURL;\n  });\n}\n\nconst NUM_CLASSES = 5;\nexport class Ai {\n  constructor() {\n    return (async () => {\n      this.truncatedMobileNet = await loadTruncatedMobileNet();\n      return this;\n    })();\n  }\n\n  /**\n   * Adds an example to the controller dataset.\n   * @param {Tensor} example A tensor representing the example. It can be an image,\n   *     an activation, or any other type of Tensor.\n   * @param {[number]} action speed and direction.\n   */\n  async addExample(url, lable) {\n    const data = await imageUrlToImg(url);\n    const oImg = tf.tidy(() => data.expandDims(0).toFloat().div(127).sub(1));\n    const example = this.truncatedMobileNet.predict(oImg);\n    oImg.dispose();\n    const y = tf.tidy(() =>\n      tf.oneHot(tf.tensor1d([lable]).toInt(), NUM_CLASSES)\n    );\n\n    if (this.xs == null) {\n      // For the first example that gets added, keep example and y so that the\n      // ControllerDataset owns the memory of the inputs. This makes sure that\n      // if addExample() is called in a tf.tidy(), these Tensors will not get\n      // disposed.\n      this.xs = tf.keep(example);\n      this.ys = tf.keep(y);\n    } else {\n      const oldX = this.xs;\n      this.xs = tf.keep(oldX.concat(example, 0));\n\n      const oldY = this.ys;\n      this.ys = tf.keep(oldY.concat(y, 0));\n\n      oldX.dispose();\n      oldY.dispose();\n      y.dispose();\n    }\n  }\n  clean() {\n    if (!this.xs) return;\n    this.xs.dispose();\n    this.ys.dispose();\n    this.xs = null;\n    this.ys = null;\n  }\n\n  async train(learnArgument, lossCallBack) {\n    console.log(\"Learnning Argument\", learnArgument);\n    if (this.xs == null) {\n      throw new Error(\"Add some examples before training!\");\n    }\n\n    // Creates a 2-layer fully connected model. By creating a separate model,\n    // rather than adding layers to the mobilenet model, we \"freeze\" the weights\n    // of the mobilenet model, and only train weights from the new model.\n    const model = tf.sequential({\n      layers: [\n        // Flattens the input to a vector so we can use it in a dense layer. While\n        // technically a layer, this only performs a reshape (and has no training\n        // parameters).\n        tf.layers.flatten({\n          inputShape: this.truncatedMobileNet.outputs[0].shape.slice(1),\n        }),\n        // Layer 1.\n        tf.layers.dense({\n          units: learnArgument.hiddenUnits,\n          activation: \"relu\",\n          kernelInitializer: \"varianceScaling\",\n          useBias: true,\n        }),\n        // Layer 2. The number of units of the last layer should correspond\n        // to the number of classes we want to predict.\n        tf.layers.dense({\n          units: NUM_CLASSES,\n          kernelInitializer: \"varianceScaling\",\n          useBias: false,\n          activation: \"softmax\",\n        }),\n      ],\n    });\n\n    // Creates the optimizers which drives training of the model.\n    const optimizer = tf.train.adam(learnArgument.learnRate);\n    // We use categoricalCrossentropy which is the loss function we use for\n    // categorical classification which measures the error between our predicted\n    // probability distribution over classes (probability that an input is of each\n    // class), versus the label (100% probability in the true class)>\n    model.compile({ optimizer: optimizer, loss: \"categoricalCrossentropy\" });\n\n    // We parameterize batch size as a fraction of the entire dataset because the\n    // number of examples that are collected depends on how many examples the user\n    // collects. This allows us to have a flexible batch size.\n    const batchSize = Math.floor(this.xs.shape[0] * learnArgument.batchSize);\n    if (!(batchSize > 0)) {\n      throw new Error(\n        `Batch size is 0 or NaN. Please choose a non-zero fraction.`\n      );\n    }\n\n    // Train the model! Model.fit() will shuffle xs & ys so we don't have to.\n    await model.fit(this.xs, this.ys, {\n      batchSize,\n      epochs: learnArgument.epochs,\n      callbacks: {\n        onBatchEnd: async (batch, logs) => {\n          console.log(\"Loss: \" + logs.loss.toFixed(5));\n          lossCallBack(logs.loss.toFixed(5));\n        },\n      },\n    });\n\n    this.model = model;\n\n    return model;\n  }\n\n  async predict(canvas) {\n    const img = tf.tidy(() =>\n      tf.browser\n        .fromPixels(canvas)\n        .resizeNearestNeighbor([224, 224])\n        .expandDims(0)\n        .toFloat()\n        .div(127)\n        .sub(1)\n    );\n\n    // Make a prediction through mobilenet, getting the internal activation of\n    // the mobilenet model, i.e., \"embeddings\" of the input images.\n    const embeddings = this.truncatedMobileNet.predict(img);\n\n    // Make a prediction through our newly-trained model using the embeddings\n    // from mobilenet as input.\n    const predictions = this.model.predict(embeddings);\n    let probability = await predictions.data();\n\n    // Returns the index with the maximum probability. This number corresponds\n    // to the class the model thinks is the most probable given the input.\n    const predictedClass = predictions.as1D().argMax();\n    const label = (await predictedClass.data())[0];\n    console.log(\"Ai 预测:\", probability);\n    img.dispose();\n    await tf.nextFrame();\n    return { label, probability: probability[label] };\n  }\n\n  async save(name) {\n    await this.model.save(`indexeddb://${name}`);\n  }\n\n  async load(name) {\n    this.model = await tf.loadLayersModel(`indexeddb://${name}`);\n  }\n}\n\nexport async function sleep(time) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, time);\n  });\n}\n\nexport function vibrate(v) {\n  navigator.vibrate && navigator.vibrate(v);\n}\n","import React, { Component, Fragment } from \"react\";\nimport { Form, Button, Switch, Slider, Popover, message, Tag } from \"antd\";\nimport { SlidersOutlined, DragOutlined } from \"@ant-design/icons\";\nimport {\n  AimOutlined,\n  DownOutlined,\n  UpOutlined,\n  LeftOutlined,\n  RightOutlined,\n} from \"@ant-design/icons\";\nimport store from \"store\";\nimport Keybord from \"../Keyboard\";\nimport { vibrate } from \"../unit\";\nimport Icon from \"./Icon\";\nimport Ai from \"./Ai\";\nimport mobile from \"is-mobile\";\nimport { Router } from \"@reach/router\";\n\nlet curentOrientation;\nlet isSupportedOrientaion = false;\nconst deviceorientation = (e) => {\n  const { alpha, beta, gamma } = e;\n  curentOrientation = { alpha, beta, gamma };\n  if (alpha || isSupportedOrientaion) {\n    isSupportedOrientaion = true;\n  }\n};\n\nwindow.addEventListener(\"deviceorientation\", deviceorientation);\n\nexport default class Controller extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      zeroOrientation: undefined,\n      directionReverse: store.get(\"directionReverse\") || false,\n      speedReverse: store.get(\"speedReverse\") || false,\n      backwardPower: 50,\n      forwardPower: 50,\n      directionFix: store.get(\"directionFix\") || 0,\n      isShowButton: mobile(),\n      gamepadEnabled: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"deviceorientation\", this.deviceorientation);\n    window.addEventListener(\"gamepadconnected\", this.gamepadConnected);\n    window.addEventListener(\"gamepaddisconnected\", this.gamepadDisconnected);\n    window.addEventListener(\"gamepadpress\", this.gamepadPress);\n    window.addEventListener(\"gamepadaxis\", this.gamepadAxis);\n    this.gamePadsLoop();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.gamePadsTime);\n    window.removeEventListener(\"deviceorientation\", this.deviceorientation);\n    window.removeEventListener(\"gamepadconnected\", this.gamepadConnected);\n    window.removeEventListener(\"gamepaddisconnected\", this.gamepadDisconnected);\n    window.removeEventListener(\"gamepadpress\", this.gamepadPress);\n    window.removeEventListener(\"gamepadaxis\", this.gamepadAxis);\n    window.removeEventListener(\n      \"deviceorientation\",\n      this.handleSetZeroOrientation\n    );\n  }\n\n  gamepadConnected = (e) => {\n    const {\n      gamepad: { index, id },\n    } = e;\n    message.success(`控制器已连接于 ${index} 位: ${id}。`);\n    this.setState({ gamepadEnabled: true });\n  };\n  gamepadDisconnected(e) {\n    const {\n      gamepad: { index, id },\n    } = e;\n    message.error(`控制器位${id}-${index}已断开。`);\n  }\n\n  gamepadPress = ({ detail: { index, value } }) => {\n    const {\n      lightEnabled,\n      cameraEnabled,\n      controller: { changeLight, changeCamera },\n    } = this.props;\n    let { forwardPower } = this.state;\n    const {\n      fixedController: { speed, direction },\n    } = this;\n    if (index === 1 || index === 13 || index === 6) {\n      speed(value * -1);\n    }\n    if (index === 0 || index === 12 || index === 7) {\n      speed(value);\n    }\n    if (index === 14) {\n      direction(value * -1);\n    }\n    if (index === 15) {\n      direction(value);\n    }\n    if (index === 9 && value === 1) {\n      changeLight(!lightEnabled);\n    }\n    if (index === 16 && value === 1) {\n      changeCamera(!cameraEnabled);\n    }\n\n    if ((index === 4 || index === 2) && value === 1) {\n      forwardPower -= 5;\n      if (forwardPower < 0) forwardPower = 0;\n      this.setState({ forwardPower });\n    }\n    if ((index === 3 || index === 5) && value === 1) {\n      forwardPower += 5;\n      if (forwardPower > 100) forwardPower = 100;\n      this.setState({ forwardPower });\n    }\n  };\n\n  gamepadAxis = ({ detail: { index, value } }) => {\n    const {\n      fixedController: { speed, direction },\n    } = this;\n    if (index === 0) {\n      direction(-value);\n    }\n    if (index === 3) {\n      speed(-value);\n    }\n  };\n\n  gamePadsLoop = () => {\n    const buttonsStatus = {},\n      axesStatus = {};\n    this.gamePadsTime = setInterval(() => {\n      const gamepadList = navigator.getGamepads\n        ? navigator.getGamepads()\n        : navigator.webkitGetGamepads\n        ? navigator.webkitGetGamepads\n        : [];\n      for (\n        let gamePadIndex = 0;\n        gamePadIndex < gamepadList.length;\n        gamePadIndex++\n      ) {\n        const gamepad = gamepadList[gamePadIndex];\n        if (!gamepad) continue;\n        const { axes, buttons, connected } = gamepad;\n        if (!connected) continue;\n        buttons.forEach((status, index) => {\n          if (!buttonsStatus[`${gamePadIndex}-${index}`]) {\n            buttonsStatus[`${gamePadIndex}-${index}`] = status;\n            return;\n          }\n          if (\n            buttonsStatus[`${gamePadIndex}-${index}`].value !== status.value\n          ) {\n            window.dispatchEvent(\n              new CustomEvent(\"gamepadpress\", {\n                detail: { index, value: status.value },\n              })\n            );\n          }\n          buttonsStatus[`${gamePadIndex}-${index}`] = status;\n        });\n        axes.forEach((value, index) => {\n          if (!axesStatus[`${gamePadIndex}-${index}`]) {\n            axesStatus[`${gamePadIndex}-${index}`] = { value };\n            return;\n          }\n          if (axesStatus[`${gamePadIndex}-${index}`].value !== value) {\n            window.dispatchEvent(\n              new CustomEvent(\"gamepadaxis\", {\n                detail: { index, value },\n              })\n            );\n          }\n          axesStatus[`${gamePadIndex}-${index}`] = { value };\n        });\n      }\n    }, 50);\n  };\n\n  deviceorientation = ({ alpha, beta, gamma }) => {\n    const {\n      props: { controller },\n      state: { directionReverse, isAiControlling, zeroOrientation },\n    } = this;\n    if (!zeroOrientation) return;\n    if (isAiControlling) return;\n    const { beta: baseBeta } = zeroOrientation;\n    let bateDegree = beta - baseBeta;\n    bateDegree = bateDegree < -30 ? -30 : bateDegree;\n    bateDegree = bateDegree > 30 ? 30 : bateDegree;\n    controller.direction((bateDegree / 30) * (directionReverse ? -1 : 1));\n  };\n\n  fixedController = {\n    speed: (v) => {\n      const {\n        props: {\n          controller: { speed },\n        },\n        state: { forwardPower, backwardPower, speedReverse },\n      } = this;\n      speed(\n        v *\n          (speedReverse ? -1 : 1) *\n          ((v > 0 ? forwardPower : backwardPower) / 100)\n      );\n    },\n    direction: (v) => {\n      const {\n        props: {\n          controller: { direction },\n        },\n        state: { directionReverse, directionFix },\n      } = this;\n      direction(v * (directionReverse ? -1 : 1) + directionFix);\n    },\n    changeCamera: (v) => this.props.controller.changeCamera(v),\n  };\n\n  fixContent = () => {\n    const { directionReverse, speedReverse, directionFix } = this.state;\n    return (\n      <Form>\n        <Form.Item\n          style={{ display: isSupportedOrientaion ? undefined : \"none\" }}\n        >\n          <Button\n            type=\"danger\"\n            onClick={() => {\n              this.setState({ zeroOrientation: { ...curentOrientation } });\n            }}\n            icon={<AimOutlined />}\n          >\n            舵机感应校准\n          </Button>\n        </Form.Item>\n        <Form.Item label=\"舵机反向\">\n          <Switch\n            checked={directionReverse}\n            onChange={(v) => {\n              this.setState({\n                directionReverse: v,\n              });\n              store.set(\"directionReverse\", v);\n            }}\n          />\n        </Form.Item>\n        <Form.Item label=\"油门反向\">\n          <Switch\n            checked={speedReverse}\n            onChange={(v) => {\n              this.setState({\n                speedReverse: v,\n              });\n              store.set(\"speedReverse\", v);\n            }}\n          />\n        </Form.Item>\n        <Form.Item label=\"舵机微调\">\n          <Slider\n            value={directionFix * 50 + 50}\n            min={0}\n            max={100}\n            included={false}\n            onChange={(v) => {\n              const directionFix = v / 50 - 1;\n              store.set(\"directionFix\", directionFix);\n              this.setState({ directionFix }, () => {\n                this.fixedController.direction(0);\n              });\n            }}\n            style={{ width: \"50vw\" }}\n          />\n        </Form.Item>\n      </Form>\n    );\n  };\n\n  render() {\n    const {\n      fixContent,\n      fixedController,\n      props: { action, cameraEnabled, canvasRef },\n    } = this;\n    const {\n      gamepadEnabled,\n      forwardPower,\n      backwardPower,\n      isShowButton,\n    } = this.state;\n    const { speed, direction } = fixedController;\n    return (\n      <div className=\"controller\">\n        <Form className=\"controller-form\" size=\"small\" layout=\"inline\">\n          <Form.Item>\n            <Popover content={fixContent} title=\"修正\" trigger=\"click\">\n              <Button icon={<SlidersOutlined />}>修正</Button>\n            </Popover>\n          </Form.Item>\n          {isShowButton && (\n            <Fragment>\n              <Button\n                className=\"left-button\"\n                shape=\"circle\"\n                size=\"large\"\n                type=\"primary\"\n                onTouchStart={() => {\n                  direction(1);\n                  vibrate(50);\n                }}\n                onTouchEnd={() => {\n                  direction(0);\n                }}\n                icon={<LeftOutlined />}\n                style={{ display: !isSupportedOrientaion ? undefined : \"none\" }}\n              ></Button>\n              <Button\n                className=\"right-button\"\n                shape=\"circle\"\n                size=\"large\"\n                type=\"primary\"\n                onTouchStart={() => {\n                  direction(-1);\n                  vibrate(50);\n                }}\n                onTouchEnd={() => {\n                  direction(0);\n                }}\n                icon={<RightOutlined />}\n                style={{ display: !isSupportedOrientaion ? undefined : \"none\" }}\n              ></Button>\n              <Button\n                className=\"forward-button\"\n                shape=\"circle\"\n                size=\"large\"\n                type=\"primary\"\n                onTouchStart={() => {\n                  speed(1);\n                  vibrate(300);\n                }}\n                onTouchEnd={() => {\n                  speed(0);\n                }}\n                icon={<UpOutlined />}\n              ></Button>\n              <Button\n                className=\"backward-button\"\n                shape=\"circle\"\n                size=\"large\"\n                type=\"primary\"\n                onTouchStart={() => {\n                  speed(-1);\n                  vibrate([100, 50, 100]);\n                }}\n                onTouchEnd={() => {\n                  speed(0);\n                }}\n                icon={<DownOutlined />}\n              ></Button>\n            </Fragment>\n          )}\n          <Form.Item>\n            <Popover\n              placement=\"topLeft\"\n              content={\n                <Slider\n                  value={forwardPower}\n                  min={0}\n                  max={100}\n                  onChange={(forwardPower) => {\n                    this.setState({ forwardPower });\n                  }}\n                  arrowPointAtCenter\n                  style={{ width: \"30vw\" }}\n                />\n              }\n            >\n              <Button shape=\"round\">前进油门:{forwardPower}</Button>\n            </Popover>\n          </Form.Item>\n          <Form.Item>\n            <Popover\n              placement=\"topLeft\"\n              content={\n                <Slider\n                  value={backwardPower}\n                  min={0}\n                  max={100}\n                  style={{ width: \"30vw\" }}\n                  onChange={(backwardPower) => {\n                    this.setState({ backwardPower });\n                  }}\n                />\n              }\n            >\n              <Button shape=\"round\">倒退油门:{backwardPower}</Button>\n            </Popover>\n          </Form.Item>\n          <Form.Item>\n            <Switch\n              checked={isShowButton}\n              onChange={(isShowButton) => this.setState({ isShowButton })}\n              checkedChildren={<DragOutlined />}\n              unCheckedChildren={<DragOutlined />}\n            />\n          </Form.Item>\n          <Form.Item>\n            <Switch\n              checked={gamepadEnabled}\n              onChange={(gamepadEnabled) => {\n                if (gamepadEnabled) {\n                  this.gamePadsLoop();\n                } else {\n                  clearInterval(this.gamePadsTime);\n                }\n                this.setState({ gamepadEnabled });\n              }}\n              unCheckedChildren={<Icon type=\"icon-game-\" />}\n              checkedChildren={<Icon type=\"icon-game-\" />}\n            />\n          </Form.Item>\n          <Form.Item>\n            <Tag>键盘:wsad</Tag>\n          </Form.Item>\n        </Form>\n        <Keybord controller={{ speed, direction }} />\n        <Router>\n          <Ai\n            path=\"ai/*\"\n            canvasRef={canvasRef}\n            cameraEnabled={cameraEnabled}\n            action={action}\n            controller={fixedController}\n            onAi={(isAiControlling) => this.setState({ isAiControlling })}\n          />\n        </Router>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  ArrowDownOutlined,\n  ArrowLeftOutlined,\n  ArrowRightOutlined,\n  ArrowUpOutlined,\n  PauseOutlined,\n  ImportOutlined,\n  ExportOutlined,\n  CloseOutlined,\n} from \"@ant-design/icons\";\nimport { Form, Button, List, Card, Upload } from \"antd\";\nimport { Link } from \"@reach/router\";\nimport { getImageUrl } from \"../unit\";\nimport { saveAs } from \"file-saver\";\n\nexport const aiAction = {\n  left: {\n    icon: <ArrowLeftOutlined />,\n    name: \"左转弯\",\n    action: { speed: 1, direction: 1 },\n    label: 0,\n  },\n  right: {\n    icon: <ArrowRightOutlined />,\n    name: \"右转弯\",\n    action: { speed: 1, direction: -1 },\n    label: 1,\n  },\n  forward: {\n    icon: <ArrowUpOutlined />,\n    name: \"前进\",\n    action: { speed: 1, direction: 0 },\n    label: 2,\n  },\n  back: {\n    icon: <ArrowDownOutlined />,\n    action: { speed: -1, direction: 0 },\n    name: \"后退\",\n    label: 3,\n  },\n  stop: {\n    icon: <PauseOutlined />,\n    action: { speed: 0, direction: 0 },\n    name: \"停止\",\n    label: 4,\n  },\n};\n\nexport default class AiSample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sampleList: props.sampleList || [],\n      exportName: \"自动驾驶学习样本\",\n    };\n  }\n\n  componentDidMount() {\n    this.props.controller.changeCamera(true);\n  }\n\n  async add(example) {\n    const {\n      props: { canvasRef },\n    } = this;\n    const { sampleList } = this.state;\n    sampleList.unshift({\n      ...example,\n      img: await getImageUrl(canvasRef),\n    });\n    this.setState({ sampleList });\n  }\n\n  update(index, action) {\n    this.setState((state) => {\n      state.sampleList[index].action = action;\n      return state;\n    });\n  }\n\n  remove(index) {\n    const { sampleList } = this.state;\n    sampleList.splice(index, 1);\n    this.setState({ sampleList });\n  }\n\n  clear = () => {\n    this.setState({ sampleList: [] });\n  };\n\n  upload = ({ file, onSuccess }) => {\n    const reader = new FileReader();\n    reader.onload = ({ target: { result } }) => {\n      const data = JSON.parse(result);\n      const { sampleList } = this.state;\n      this.setState({\n        sampleList: sampleList.concat(data),\n      });\n      onSuccess();\n    };\n    reader.readAsText(file);\n    return true;\n  };\n\n  download = () => {\n    const { sampleList, exportName } = this.state;\n    saveAs(new Blob([JSON.stringify(sampleList)]), `${exportName}.json`);\n  };\n\n  render() {\n    const {\n      clear,\n      download,\n      upload,\n      props: { onFinish, cameraEnabled },\n    } = this;\n    const { sampleList } = this.state;\n    return (\n      <div className=\"ai-sample\">\n        <Form layout=\"inline\" className=\"ai-sample-form\">\n          {Object.keys(aiAction).map((key) => (\n            <Form.Item>\n              <Button\n                icon={aiAction[key].icon}\n                onClick={() => this.add({ action: key })}\n                disabled={!cameraEnabled}\n              >{aiAction[key].name}</Button>\n            </Form.Item>\n          ))}\n          <Form.Item>\n            <Upload\n              customRequest={upload}\n              accept=\"application/json\"\n              showUploadList={false}\n            >\n              <Button icon={<ImportOutlined />}>导入</Button>\n            </Upload>\n          </Form.Item>\n          <Form.Item>\n            <Button\n              icon={<ExportOutlined />}\n              disabled={!sampleList.length}\n              onClick={download}\n            >\n              导出\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"danger\" disabled={!sampleList.length} onClick={clear}>\n              清除\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Link to=\"../train\">\n              <Button\n                type=\"primary\"\n                disabled={sampleList.length < 10}\n                onClick={() => {\n                  onFinish(sampleList);\n                }}\n              >\n                下一步\n              </Button>\n            </Link>\n          </Form.Item>\n        </Form>\n        <List\n          size=\"small\"\n          className=\"ai-example-list\"\n          grid={{ gutter: 16, column: 4 }}\n          itemLayout=\"vertical\"\n          pagination={{\n            pageSize: 12,\n          }}\n          dataSource={sampleList}\n          renderItem={({ img, action }, index) => (\n            <List.Item>\n              <Card\n                size=\"small\"\n                title={aiAction[action].icon}\n                actions={[\n                  <Button\n                    size=\"small\"\n                    icon={<CloseOutlined />}\n                    type=\"danger\"\n                    onClick={() => this.remove(index)}\n                  />,\n                ]}\n              >\n                <img\n                  style={{ width: \"100%\" }}\n                  src={img}\n                  alt=\"example\"\n                  onLoad={function ({ target }) {\n                    target.height = target.width * 0.75;\n                  }}\n                />\n              </Card>\n            </List.Item>\n          )}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Tag, InputNumber, message } from \"antd\";\nimport {\n  ImportOutlined,\n  CarOutlined,\n  StopOutlined,\n  BugOutlined,\n} from \"@ant-design/icons\";\nimport { aiAction } from \"./AiSample\";\nimport { sleep } from \"../unit\";\nimport { layout, tailLayout } from \"../unit\";\n\nexport default class AiDrive extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPredicting: false,\n      actionKey: \"stop\",\n      interval: 200,\n      probability: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.props.controller.changeCamera(true);\n  }\n\n  labelToKey(label) {\n    return Object.keys(aiAction).find((key) => aiAction[key].label === label);\n  }\n\n  predict = (doSometing = () => {}) => {\n    const { ai, onAi = () => {}, canvasRef } = this.props;\n    onAi(true);\n    this.setState({ isPredicting: true }, async () => {\n      while (this.state.isPredicting) {\n        const { label, probability } = await ai.predict(canvasRef);\n        const actionKey = this.labelToKey(label);\n        this.setState({ actionKey, probability });\n        doSometing(actionKey);\n        await sleep(this.state.interval);\n      }\n      onAi(false);\n    });\n  };\n\n  test = () => {\n    this.predict();\n  };\n  drive = () => {\n    this.predict((actionKey) => {\n      const { speed, direction } = this.props.controller;\n      const action = aiAction[actionKey].action;\n      speed(0);\n      speed(action.speed);\n      direction(action.direction);\n    });\n  };\n  stop = () => {\n    this.setState({ isPredicting: false });\n  };\n  loadModel = async () => {\n    await this.props.ai.load(\"test\");\n    message.success(\"模型已经加载！\");\n  };\n  downloadModel = () => {};\n  render() {\n    const {\n      state: { isPredicting, actionKey, probability, interval },\n      props: { cameraEnabled, ai },\n      drive,\n      stop,\n      test,\n      loadModel,\n    } = this;\n    return (\n      <div className=\"ai-train\">\n        <Form layout=\"inline\">\n          <Form.Item label=\"操作间隔\">\n            <InputNumber\n              value={interval}\n              onChange={(interval) => this.setState({ interval })}\n            />\n          </Form.Item>\n          <Form.Item label=\"动作\">\n            <Tag>\n              {aiAction[actionKey].name} {aiAction[actionKey].icon}{\" \"}\n              {probability.toFixed(2)}\n            </Tag>\n          </Form.Item>\n        </Form>\n        <br />\n        <Form layout=\"inline\">\n          <Form.Item>\n            <Button\n              icon={<ImportOutlined />}\n              loading={isPredicting}\n              onClick={loadModel}\n            >\n              导入模型\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button\n              icon={<BugOutlined />}\n              loading={isPredicting}\n              onClick={test}\n              disabled={!cameraEnabled || !ai || !ai.model}\n            >\n              测试\n            </Button>\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <Button\n              type=\"danger\"\n              key=\"predic\"\n              loading={isPredicting}\n              onClick={drive}\n              icon={<CarOutlined />}\n              disabled={!cameraEnabled || !ai || !ai.model}\n            >\n              开始 Ai 驾驶\n            </Button>\n          </Form.Item>\n\n          <Form.Item>\n            <Button\n              onClick={stop}\n              icon={<StopOutlined />}\n              disabled={!isPredicting}\n              key=\"stop\"\n            >\n              停止 Ai 驾驶\n            </Button>\n          </Form.Item>\n          <br />\n        </Form>\n      </div>\n    );\n  }\n}\n","import React, { Component, createRef } from \"react\";\nimport { Form, Button, Spin, InputNumber, Select, message } from \"antd\";\nimport { layout, tailLayout } from \"../unit\";\nimport { Link } from \"@reach/router\";\nimport { ExportOutlined, ReadOutlined } from \"@ant-design/icons\";\nimport { aiAction } from \"./AiSample\";\n\nconst { Option } = Select;\nexport default class AiTrain extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      learnArgument: {\n        learnRate: 0.0001,\n        batchSize: 0.4,\n        epochs: 20,\n        hiddenUnits: 100,\n      },\n      loss: undefined,\n      loading: false,\n      model: undefined,\n    };\n\n    this.smallCanvasRef = createRef();\n  }\n\n  componentDidMount() {\n    this.props.controller.changeCamera(false);\n  }\n\n  train = async (learnArgument) => {\n    const {\n      props: { sampleList, ai },\n    } = this;\n    this.setState({ loading: \"数据处理...\" });\n    ai.clean();\n    for (let index = 0; index < sampleList.length; index++) {\n      const { img: url, action } = sampleList[index];\n      await ai.addExample(url, aiAction[action].label);\n    }\n    this.setState({ loading: \"训练...\" });\n    await ai.train(learnArgument, (loss) => this.setState({ loss }));\n    this.setState({ loading: false });\n  };\n\n  render() {\n    const {\n      state: { learnArgument, loss, loading },\n      props: { sampleList, ai },\n      train,\n    } = this;\n    return (\n      <div className=\"ai-train\">\n        <Spin spinning={loading} tip={loading}>\n          <Form {...layout} initialValues={learnArgument} onFinish={train}>\n            <Form.Item label=\"Learning rate\" name=\"learnRate\">\n              <Select>\n                <Option value={0.00001}>0.00001</Option>\n                <Option value={0.0001}>0.0001</Option>\n                <Option value={0.001}>0.001</Option>\n                <Option value={0.003}>0.003</Option>\n              </Select>\n            </Form.Item>\n            <Form.Item label=\"Batch Size\" name=\"batchSize\">\n              <Select>\n                <Option value={0.05}>0.05</Option>\n                <Option value={0.1}>0.1</Option>\n                <Option value={0.4}>0.4</Option>\n                <Option value={1}>1</Option>\n              </Select>\n            </Form.Item>\n            <Form.Item label=\"Epochs\" name=\"epochs\">\n              <Select>\n                <Option value={10}>10</Option>\n                <Option value={20}>20</Option>\n                <Option value={40}>40</Option>\n              </Select>\n            </Form.Item>\n            <Form.Item label=\"Hidden units\" name=\"hiddenUnits\">\n              <Select>\n                <Option value={100}>100</Option>\n                <Option value={200}>200</Option>\n                <Option value={300}>300</Option>\n                <Option value={400}>400</Option>\n                <Option value={500}>500</Option>\n              </Select>\n            </Form.Item>\n            <Form.Item label=\"loss\">\n              <InputNumber value={loss} disabled />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n              <Button\n                key=\"fit\"\n                loading={loading}\n                disabled={!sampleList.length}\n                icon={<ReadOutlined />}\n                htmlType=\"submit\"\n              >\n                学习(样本{sampleList.length})\n              </Button>\n              &nbsp; &nbsp; &nbsp; &nbsp;\n              <Button\n                onClick={async () => {\n                  await ai.save(\"test\");\n                  message.success(\"模型已经保存\");\n                }}\n                icon={<ExportOutlined />}\n                disabled={!sampleList.length}\n              >\n                导出模型\n              </Button>\n            </Form.Item>\n          </Form>\n          <Form>\n            <Form.Item {...tailLayout}>\n              <Link to=\"../drive\">\n                <Button type=\"primary\" disabled={!ai || !ai.model}>\n                  下一步\n                </Button>\n              </Link>\n            </Form.Item>\n          </Form>\n        </Spin>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Menu, Spin } from \"antd\";\nimport { Router, Link, Match } from \"@reach/router\";\nimport AiDrive from \"./AiDrive\";\nimport AiSample from \"./AiSample\";\nimport AiTrain from \"./AiTrain\";\nimport { Ai } from \"../unit\";\n\nconst menu = [\n  { key: \"sample\", name: \"采集样本\" },\n  { key: \"train\", name: \"学习训练\" },\n  { key: \"drive\", name: \"自动驾驶\" },\n];\n\nexport default class AiView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      learnForm: {},\n      exampleList: [],\n      sampleList: [],\n      loading: false,\n      isPredicting: false,\n      loss: 0,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: \"加载 MobileNet...\" });\n    const ai = await new Ai();\n    this.setState({ loading: false, ai });\n  }\n\n\n  menuItem = ({ key, name }) => {\n    return (\n      <Menu.Item key={key}>\n        <Link to={`./${key}`}>{name}</Link>\n      </Menu.Item>\n    );\n  };\n\n  render() {\n    const {\n      state: { sampleList, ai, loading },\n      props: { controller, cameraEnabled, canvasRef },\n      menuItem,\n    } = this;\n\n    return (\n      <Spin spinning={loading} tip={loading}>\n        <Match path=\":current\">\n          {(props) => (\n            <Menu\n              selectedKeys={[props.match && props.match.current]}\n              mode=\"horizontal\"\n            >\n              {menu.map((i) => menuItem(i))}\n            </Menu>\n          )}\n        </Match>\n        <Router>\n          <AiSample\n            path=\"sample\"\n            onFinish={(sampleList) => this.setState({ sampleList })}\n            sampleList={sampleList}\n            canvasRef={canvasRef}\n            cameraEnabled={cameraEnabled}\n            controller={controller}\n          />\n          <AiTrain\n            path=\"train\"\n            sampleList={sampleList}\n            controller={controller}\n            ai={ai}\n          />\n          <AiDrive\n            path=\"drive\"\n            controller={controller}\n            canvasRef={canvasRef}\n            cameraEnabled={cameraEnabled}\n            ai={ai}\n          />\n        </Router>\n      </Spin>\n    );\n  }\n}\n","import React from \"react\";\nimport { Slider, Form, Button, Input, Select } from \"antd\";\nimport { layout, tailLayout } from \"../unit\";\n\nconst { Option } = Select;\n\nexport default function Setting({\n  onDisconnect,\n  wsConnected,\n  onSubmit,\n  serverSetting,\n  ...form\n}) {\n  return (\n    <Form {...layout} onFinish={onSubmit} initialValues={form}>\n      <br />\n      <Form.Item\n        label=\"连接地址\"\n        name=\"wsAddress\"\n        rules={[{ required: true, message: \"请输入连接地址!\" }]}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item label=\"最大速度\" name=\"speedMax\">\n        <Slider min={0} max={serverSetting.maxSpeed} tooltipVisible />\n      </Form.Item>\n      <Form.Item label=\"摄像头模式\" name=\"cameraMode\">\n        <Select>\n          <Option value=\"default\">300p-30fps(默认)</Option>\n          <Option value=\"480p-15fps\">480p-15fps</Option>\n          <Option value=\"600p\">600p-30fps</Option>\n          {/* <Option value=\"1080p\">1080p-30fps</Option> */}\n        </Select>\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          保存\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import React from \"react\";\nimport { layout, tailLayout } from \"../unit\";\nimport { Input, Button, Form } from \"antd\";\n\nexport default function Login({ onSubmit }) {\n  return (\n    <Form {...layout} onFinish={onSubmit}>\n      <Form.Item label=\"密码\" name=\"password\">\n        <Input type=\"password\" />\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          登录\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import React, { Component, createRef } from \"react\";\nimport WakeLock from \"react-wakelock-react16\";\nimport store from \"store\";\nimport {\n  Form,\n  Switch,\n  Dropdown,\n  Button,\n  Popover,\n  message,\n  Slider,\n  Tag,\n} from \"antd\";\nimport \"./App.css\";\nimport { Router, Location, navigate } from \"@reach/router\";\nimport Nav from \"./components/Nav\";\nimport Controller from \"./components/Controller\";\nimport Setting from \"./components/Setting\";\nimport WSAvcPlayer from \"ws-avc-player\";\nimport {\n  HomeOutlined,\n  ExpandOutlined,\n  FullscreenOutlined,\n  ApiOutlined,\n  VideoCameraOutlined,\n  BulbOutlined,\n  FullscreenExitOutlined,\n} from \"@ant-design/icons\";\nimport Login from \"./components/Login\";\nimport md5 from \"md5\";\nimport debounce from \"debounce\";\n\nconst pubilcUrl = process.env.PUBLIC_URL;\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.appRef = createRef();\n    this.playerBoxRef = createRef();\n    this.state = {\n      setting: {\n        speedMax: 20,\n        wsAddress: window.location.host,\n        cameraMode: \"default\",\n        ...store.get(\"setting\"),\n      },\n      serverSetting: {\n        maxSpeed: 100,\n      },\n      wsConnected: false,\n      cameraEnabled: false,\n      lightEnabled: false,\n      canvasRef: undefined,\n      isAiControlling: false,\n      isFullscreen: false,\n      videoSize: 50,\n      delay: undefined,\n      action: {\n        speed: 0,\n        direction: 0,\n      },\n    };\n\n    const { changeCamera, changeLight } = this;\n\n    this.controller = {\n      changeLight,\n      changeCamera,\n      speed: (v) => {\n        const {\n          changeSpeed,\n          state: {\n            setting: { speedMax },\n            action,\n          },\n        } = this;\n        // let vAbs = Math.abs(v);\n        // if (vAbs > speedMax / 100) {\n        //   vAbs = speedMax / 100;\n        // }\n        // action.speed = v > 0 ? vAbs : -vAbs;\n        action.speed = (v * speedMax) / 100;\n        this.setState({ action: { ...action } });\n        changeSpeed(action.speed);\n      },\n      direction: (v) => {\n        const {\n          changeDirection,\n          state: { action },\n        } = this;\n        action.direction = v;\n        changeDirection(v);\n        this.setState({ action: { ...action } });\n      },\n    };\n\n    this.changeVideoSize = debounce(() => {\n      this.setState({ unbounceVideoSize: this.state });\n    }, 300);\n  }\n\n  componentDidMount() {\n    const { connect } = this;\n    let pingTime;\n    this.wsavc = new WSAvcPlayer({\n      useWorker: true,\n      workerFile: `${process.env.PUBLIC_URL}/Decoder.js`,\n    });\n\n    this.wsavc.on(\"pong\", ({ sendTime }) => {\n      this.setState({ delay: (new Date().getTime() - sendTime) / 2 });\n    });\n\n    this.wsavc.on(\"controller init\", ({ needPassword, maxSpeed }) => {\n      this.setState({ serverSetting: { maxSpeed, needPassword } });\n      if (needPassword) {\n        navigate(`${pubilcUrl}/login`);\n      }\n    });\n\n    this.wsavc.on(\"disconnected\", () => {\n      console.log(\"WS disconnected\");\n      this.setState({ wsConnected: false, cameraEnabled: false });\n      clearInterval(pingTime);\n    });\n    this.wsavc.on(\"connected\", () => {\n      console.log(\"WS connected\");\n      this.setState({ wsConnected: true });\n      pingTime = setInterval(() => {\n        const sendTime = new Date().getTime();\n        this.wsavc.send(\"ping\", { sendTime });\n      }, 1000);\n    });\n    this.wsavc.on(\"frame_shift\", (fbl) => {\n      // console.log(\"Stream frame shift: \", fbl);\n    });\n    this.wsavc.on(\"resized\", (payload) => {\n      console.log(\"resized\", payload);\n    });\n    this.wsavc.on(\"stream_active\", (cameraEnabled) => {\n      console.log(\"Stream is \", cameraEnabled ? \"active\" : \"offline\");\n      if (cameraEnabled) {\n        this.playerBoxRef.current.appendChild(this.wsavc.AvcPlayer.canvas);\n        this.setState({\n          cameraEnabled,\n          canvasRef: this.wsavc.AvcPlayer.canvas,\n        });\n      } else {\n        this.setState({ cameraEnabled, canvasRef: undefined });\n      }\n    });\n\n    this.wsavc.on(\"light enabled\", (lightEnabled) => {\n      this.setState({ lightEnabled });\n    });\n\n    this.wsavc.on(\"login\", ({ message: m }) => {\n      message.success(m);\n      navigate(`${pubilcUrl}/`);\n    });\n\n    this.wsavc.on(\"error\", ({ message: m }) => {\n      message.error(m);\n    });\n\n    connect();\n\n    document.body.addEventListener(\"fullscreenchange\", () => {\n      if (document.fullscreenElement) {\n        this.setState({ isFullscreen: true });\n      } else {\n        this.setState({ isFullscreen: false });\n      }\n    });\n  }\n\n  connect = () => {\n    const { wsAddress } = this.state.setting;\n    this.wsavc.connect(\n      `${\n        window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\"\n      }${wsAddress}`\n    );\n  };\n\n  disconnect = (e) => {\n    e && e.preventDefault();\n    this.setState({ wsConnected: false });\n    if (!this.wsavc) return;\n    this.wsavc.disconnect();\n  };\n\n  login = ({ password }) => {\n    const { wsConnected } = this.state;\n    if (!wsConnected) return;\n    this.wsavc.send(\"login\", {\n      token: md5(`${password}eson`),\n    });\n  };\n\n  changeCamera = (enabled) => {\n    const {\n      state: {\n        setting: { cameraMode },\n        wsConnected,\n      },\n    } = this;\n    if (!wsConnected) return;\n    this.wsavc.send(\"open camera\", { enabled, cameraMode });\n  };\n\n  changeLight = (enable) => {\n    const { wsConnected } = this.state;\n    if (!wsConnected) return;\n    this.wsavc.send(\"open light\", enable);\n  };\n\n  changeSetting = (setting) => {\n    this.setState({ setting });\n    store.set(\"setting\", setting);\n    navigate(`${pubilcUrl}/`);\n\n    // this.connect();\n  };\n\n  changeZeroSpeedRate = (speedZeroRate) => {\n    if (!this.state.wsConnected) return;\n    this.wsavc.send(\"speed zero rate\", speedZeroRate);\n    this.setState({ speedZeroRate });\n  };\n\n  changeSpeed = (speedRate) => {\n    if (!this.state.wsConnected) return;\n    this.wsavc.send(\"speed rate\", speedRate);\n  };\n\n  changeDirection = (directionRate) => {\n    if (!this.state.wsConnected) return;\n    this.wsavc.send(\"direction rate\", directionRate);\n  };\n\n  render() {\n    const {\n      disconnect,\n      connect,\n      controller,\n      changeSetting,\n      changeLight,\n      changeCamera,\n      login,\n      state: {\n        setting,\n        wsConnected,\n        cameraEnabled,\n        canvasRef,\n        action,\n        isFullscreen,\n        serverSetting,\n        lightEnabled,\n        videoSize,\n        delay,\n      },\n    } = this;\n    return (\n      <div className=\"App\" ref={this.appRef}>\n        <Form layout=\"inline\" className=\"app-status\" size=\"small\">\n          <Form.Item>\n            <Location>\n              {({ navigate }) => (\n                <Dropdown.Button\n                  overlay={Nav}\n                  onClick={() => navigate(`${process.env.PUBLIC_URL}/`)}\n                  type=\"primary\"\n                >\n                  <HomeOutlined /> 控制\n                </Dropdown.Button>\n              )}\n            </Location>\n          </Form.Item>\n          <Form.Item>\n            <Switch\n              checked={wsConnected}\n              onChange={(v) => {\n                if (v) connect();\n                else disconnect();\n              }}\n              unCheckedChildren={<ApiOutlined />}\n              checkedChildren={<ApiOutlined />}\n            />\n          </Form.Item>\n          <Form.Item>\n            <Switch\n              checked={cameraEnabled}\n              onChange={changeCamera}\n              checkedChildren={<VideoCameraOutlined />}\n              unCheckedChildren={<VideoCameraOutlined />}\n            />\n          </Form.Item>\n\n          {/* <Form.Item>\n            <Button style={{ width: \"6em\" }}>\n              舵机:{action.direction.toFixed(2)}\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button style={{ width: \"6em\" }}>\n              电调:{action.speed.toFixed(2)}\n            </Button>\n          </Form.Item> */}\n          {cameraEnabled && (\n            <Form.Item>\n              <Popover\n                placement=\"bottomRight\"\n                content={\n                  <Slider\n                    defaultValue={videoSize}\n                    step={0.1}\n                    tipFormatter={(v) => v * 2}\n                    onAfterChange={(videoSize) => this.setState({ videoSize })}\n                    style={{ width: \"30vw\" }}\n                    marks={{ 0: 0, 50: 100, 100: 200 }}\n                  />\n                }\n              >\n                <Button shape=\"round\">\n                  <ExpandOutlined />\n                  {(videoSize * 2).toFixed(1)}%\n                </Button>\n              </Popover>\n            </Form.Item>\n          )}\n\n          <Form.Item>\n            <Switch\n              checked={lightEnabled}\n              onChange={changeLight}\n              checkedChildren={<BulbOutlined />}\n              unCheckedChildren={<BulbOutlined />}\n            />\n          </Form.Item>\n\n          {document.body.requestFullscreen && (\n            <Form.Item>\n              <Button\n                type=\"primary\"\n                shape=\"circle\"\n                icon={\n                  isFullscreen ? (\n                    <FullscreenExitOutlined />\n                  ) : (\n                    <FullscreenOutlined />\n                  )\n                }\n                onClick={() => {\n                  if (isFullscreen) {\n                    document.exitFullscreen();\n                  } else {\n                    document.body.requestFullscreen();\n                  }\n                }}\n              ></Button>\n            </Form.Item>\n          )}\n          {wsConnected && delay && (\n            <Form.Item>\n              <Tag color={delay > 80 ? \"red\" : \"green\"}>ping:{delay}</Tag>\n            </Form.Item>\n          )}\n        </Form>\n\n        <Router className=\"app-page\">\n          <Setting\n            path={`${process.env.PUBLIC_URL}/setting`}\n            {...setting}\n            serverSetting={serverSetting}\n            wsConnected={wsConnected}\n            onDisconnect={disconnect}\n            onSubmit={changeSetting}\n          />\n          <Login path={`${process.env.PUBLIC_URL}/login`} onSubmit={login} />\n          <Controller\n            path={`${process.env.PUBLIC_URL}/*`}\n            controller={controller}\n            lightEnabled={lightEnabled}\n            cameraEnabled={cameraEnabled}\n            canvasRef={canvasRef}\n            action={action}\n          ></Controller>\n        </Router>\n        <div\n          className=\"player-box\"\n          ref={this.playerBoxRef}\n          style={{\n            opacity: cameraEnabled ? 1 : 0,\n            transform: `scale(${videoSize / 50})`,\n          }}\n        ></div>\n        <WakeLock preventSleep={wsConnected} />\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}